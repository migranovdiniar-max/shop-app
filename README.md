# Shop

Одностраничное приложение-магазин, SPA: список товаров, поиск по названию, просмотр товара в модальном окне.  
Фронтенд: Vue 3 + Vite.  
Бэкенд: Laravel (API) + MariaDB (в Docker).  
Данные товаров берутся из базы данных через API. Первичное заполнение выполняется сидерами.

---

## Функциональность (что сделано)

### Фронтенд
- Главная страница со списком товаров (карточка: изображение, название, цена).
  ![Главная страница](images/MainPage.png)
- Поиск “на лету” по названию.
- Модальное окно товара:
  - большое изображение
  - описание
  - категория
  - цена
  - кнопка “Купить”
  - закрытие по X, по клику вне окна, по Esc
- Избранное и корзина:
  - открываются из сайдбара
  - отображают список товаров
  - выбор нескольких товаров (checkbox) и удаление выбранного
  - переход к товару по кнопке “Открыть” и по клику на картинку
  - счетчики товаров в избранном/корзине в UI
  - изменение количества в корзине (в модалке товара и/или в модалке корзины — в зависимости от текущей реализации в проекте)
  - все хранится в `localStorage` (демо-режим без аутентификации)
  ![FavsModal](images/FavsModal)

### Бэкенд
- API для товаров:
  - `GET /api/products` — список товаров (включая фильтрацию по названию через query, если реализовано в контроллере)
  - `GET /api/products/{id}` — один товар
- Миграции для таблиц:
  - `products`
  - `favorites`
  - `cart_items`
  - `users` и служебные таблицы Laravel
- Сидер для товаров (`ProductSeeder`) — вставляет тестовые товары в таблицу `products`.

## Redis

В проекте присутствует заготовка для использования Redis (Docker-контейнер),
однако на текущем этапе Redis не используется.

Он может быть подключен в дальнейшем для:
- кеширования
- очередей
- сессий
- оптимизации API

В текущей версии приложения все данные берутся напрямую из MariaDB.

---

## Требования

- Node.js 18+ (рекомендуется 18/20)
- npm
- PHP 8.2+ (под Laravel)
- Composer
- Docker + Docker Compose
- (Опционально) DataGrip / DBeaver для просмотра БД

---

## Структура проекта

shop-app/
├── backend/         Laravel API
├── frontend/        Vue 3 + Vite SPA
├── docker/          Docker-окружение (MariaDB, Redis — если используется)
└── docker-compose.yml


---

## Запуск проекта локально

### 1. Запуск базы данных (MariaDB)

cd docker
docker compose up -d
docker ps

### 2. Запуск базы данных (MariaDB)

cd backend

Установка зависимостей
composer install

Создание .env и ключа
cp .env.example .env
php artisan key:generate

Проверка/настройка .env (должно совпадать с docker-compose)
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=shop
DB_USERNAME=shop
DB_PASSWORD=...

Миграции + тестовые данные
php artisan migrate --seed

(или полная пересоздание базы)
php artisan migrate:fresh --seed

Запуск сервера
php artisan serve --host=localhost --port=8000

### 3. Запуск frontend (Vue)

cd ../frontend

npm install
npm run dev

### Полезные команды

Полная пересборка базы + сидеры
cd backend
php artisan migrate:fresh --seed

Сборка фронтенда для продакшена
cd frontend
npm run build

Предпросмотр сборки
npm run preview
